# Changelog


## (unreleased)

### Documentation

*  update CHANGELOG.md. [github-actions]

*  update CHANGELOG.md. [github-actions]

*  update CHANGELOG.md. [github-actions]

*  update CHANGELOG.md. [github-actions]

### Other

* Build(deps): bump actions/github-script from 7 to 8 (#67) [dependabot[bot]]

  Bumps [actions/github-script](https://github.com/actions/github-script) from 7 to 8.
  - [Release notes](https://github.com/actions/github-script/releases)
  - [Commits](https://github.com/actions/github-script/compare/v7...v8)

  ---
  updated-dependencies:
  - dependency-name: actions/github-script
    dependency-version: '8'
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...

* Build(deps): bump actions/setup-python from 5 to 6 (#68) [dependabot[bot]]

  Bumps [actions/setup-python](https://github.com/actions/setup-python) from 5 to 6.
  - [Release notes](https://github.com/actions/setup-python/releases)
  - [Commits](https://github.com/actions/setup-python/compare/v5...v6)

  ---
  updated-dependencies:
  - dependency-name: actions/setup-python
    dependency-version: '6'
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...

* Build(deps-dev): bump phpunit/phpunit from 12.3.7 to 12.3.8 (#69) [dependabot[bot]]

  Bumps [phpunit/phpunit](https://github.com/sebastianbergmann/phpunit) from 12.3.7 to 12.3.8.
  - [Release notes](https://github.com/sebastianbergmann/phpunit/releases)
  - [Changelog](https://github.com/sebastianbergmann/phpunit/blob/12.3.8/ChangeLog-12.3.md)
  - [Commits](https://github.com/sebastianbergmann/phpunit/compare/12.3.7...12.3.8)

  ---
  updated-dependencies:
  - dependency-name: phpunit/phpunit
    dependency-version: 12.3.8
    dependency-type: direct:development
    update-type: version-update:semver-patch
  ...

* Build(deps-dev): bump phpunit/phpunit from 12.3.6 to 12.3.7 (#66) [dependabot[bot]]

  Bumps [phpunit/phpunit](https://github.com/sebastianbergmann/phpunit) from 12.3.6 to 12.3.7.
  - [Release notes](https://github.com/sebastianbergmann/phpunit/releases)
  - [Changelog](https://github.com/sebastianbergmann/phpunit/blob/12.3.7/ChangeLog-12.3.md)
  - [Commits](https://github.com/sebastianbergmann/phpunit/compare/12.3.6...12.3.7)

  ---
  updated-dependencies:
  - dependency-name: phpunit/phpunit
    dependency-version: 12.3.7
    dependency-type: direct:development
    update-type: version-update:semver-patch
  ...

* Build(deps-dev): bump phpunit/phpunit from 12.3.4 to 12.3.6 (#65) [dependabot[bot]]

  Bumps [phpunit/phpunit](https://github.com/sebastianbergmann/phpunit) from 12.3.4 to 12.3.6.
  - [Release notes](https://github.com/sebastianbergmann/phpunit/releases)
  - [Changelog](https://github.com/sebastianbergmann/phpunit/blob/12.3.6/ChangeLog-12.3.md)
  - [Commits](https://github.com/sebastianbergmann/phpunit/compare/12.3.4...12.3.6)

  ---
  updated-dependencies:
  - dependency-name: phpunit/phpunit
    dependency-version: 12.3.6
    dependency-type: direct:development
    update-type: version-update:semver-patch
  ...

* Build(deps): bump actions/checkout from 4 to 5 (#63) [dependabot[bot]]

  Bumps [actions/checkout](https://github.com/actions/checkout) from 4 to 5.
  - [Release notes](https://github.com/actions/checkout/releases)
  - [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
  - [Commits](https://github.com/actions/checkout/compare/v4...v5)

  ---
  updated-dependencies:
  - dependency-name: actions/checkout
    dependency-version: '5'
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...


## v0.1.12 (2025-08-12)

### New

*  update change log. [Matthew Horwood]

### Fix

*  dont use if. [Matthew Horwood]

*  allow fetching all commits. [Matthew Horwood]

### Documentation

*  change log for tag v0.1.12. [Matthew Horwood]

*  update CHANGELOG.md. [github-actions]

*  update CHANGELOG.md. [github-actions]

*  update CHANGELOG.md. [github-actions]

### Changes

*  rename. [Matthew Horwood]

### Other

* Merge branch 'main' of github.com:mhzawadi/foxess-mqtt. [Matthew Horwood]

* Fix build. [Matthew Horwood]

  bug: update lock file

* Build(deps-dev): bump phpunit/phpunit from 11.5.7 to 12.3.4 (#64) [dependabot[bot]]

  Bumps [phpunit/phpunit](https://github.com/sebastianbergmann/phpunit) from 11.5.7 to 12.3.4.
  - [Release notes](https://github.com/sebastianbergmann/phpunit/releases)
  - [Changelog](https://github.com/sebastianbergmann/phpunit/blob/12.3.4/ChangeLog-12.3.md)
  - [Commits](https://github.com/sebastianbergmann/phpunit/compare/11.5.7...12.3.4)

  ---
  updated-dependencies:
  - dependency-name: phpunit/phpunit
    dependency-version: 12.3.4
    dependency-type: direct:development
    update-type: version-update:semver-major
  ...

* Update run.sh. [Matthew Horwood]

  bug: fix php version


## v0.1.11 (2025-02-11)

### New

*  add in change log building. [Matthew Horwood]

### Other

* Merge pull request #60 from mhzawadi/0.1.11. [Matthew Horwood]

  feat: add in change log building

* Update composer. [Matthew Horwood]

* Fix dependabot. [Matthew Horwood]

* Merge pull request #58 from mhzawadi/dependabot/composer/phpunit/phpunit-11.5.3. [Matthew Horwood]

  build(deps-dev): bump phpunit/phpunit from 9.5.28 to 11.5.3

* Build(deps-dev): bump phpunit/phpunit from 9.5.28 to 11.5.3. [dependabot[bot]]

  Bumps [phpunit/phpunit](https://github.com/sebastianbergmann/phpunit) from 9.5.28 to 11.5.3.
  - [Release notes](https://github.com/sebastianbergmann/phpunit/releases)
  - [Changelog](https://github.com/sebastianbergmann/phpunit/blob/11.5.3/ChangeLog-11.5.md)
  - [Commits](https://github.com/sebastianbergmann/phpunit/compare/9.5.28...11.5.3)

  ---
  updated-dependencies:
  - dependency-name: phpunit/phpunit
    dependency-type: direct:development
    update-type: version-update:semver-major
  ...


## v0.1.10 (2025-01-08)

### Other

* Merge pull request #57 from mhzawadi/0.1.10. [Matthew Horwood]

  v0.1.10

* V0.1.10. [Matthew Horwood]

  feat: alipne 3.21
  feat: php 8.4
  feat: move MQTT HA sensors to after data collected
  chor: fix docker compose file
  chor: update php composer lock

* Tidy up. [Matthew Horwood]


## v0.1.9 (2024-09-26)

### Fix

*  dont use total_increasing for power. [Matthew Horwood]

### Other

* Merge pull request #56 from mhzawadi/0.1.9. [Matthew Horwood]

  bug: dont use total_increasing for power


## v0.1.8 (2024-07-14)

### Fix

*  reorder. [Matthew Horwood]

*  set the value. [Matthew Horwood]

*  dont config text values bug: post all text values to MQTT. [Matthew Horwood]

*  fix workflow. [Matthew Horwood]

*  build versioned image from release. [Matthew Horwood]

### Changes

*  use option name bug: look for key. [Matthew Horwood]

### Other

* Merge pull request #54 from mhzawadi/0.1.8. [Matthew Horwood]

  PHP Error rounding #53

* Drop the class if text. [Matthew Horwood]

* No units. [Matthew Horwood]

* Maybe mode is best. [Matthew Horwood]

* Maybe use null. [Matthew Horwood]

* PHP Error rounding #53. [Matthew Horwood]

  bug: if no unit dont set state class

* Merge pull request #52 from mhzawadi/dependabot/github_actions/docker/build-push-action-6. [Matthew Horwood]

  build(deps): bump docker/build-push-action from 5 to 6

* Build(deps): bump docker/build-push-action from 5 to 6. [dependabot[bot]]

  Bumps [docker/build-push-action](https://github.com/docker/build-push-action) from 5 to 6.
  - [Release notes](https://github.com/docker/build-push-action/releases)
  - [Commits](https://github.com/docker/build-push-action/compare/v5...v6)

  ---
  updated-dependencies:
  - dependency-name: docker/build-push-action
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...


## v0.1.7 (2024-06-05)

### Other

* Merge pull request #49 from mhzawadi/0.1.7. [Matthew Horwood]

  Alpine 3.20

* Alpine 3.20. [Matthew Horwood]

  feat: update to Alpine 3.20
  chor: tidy up docker files


## v0.1.6 (2024-05-05)

### Fix

*  both currentFaultCount and currentFault are strings. [Matthew Horwood]

### Other

* Merge pull request #48 from mhzawadi/0.1.6. [Matthew Horwood]

  0.1.6/new vars

* 0.1.6/new vars. [Matthew Horwood]

  bug: catch new variables


## v0.1.5 (2024-04-02)

### Fix

*  show the KWh in debug. [Matthew Horwood]

### Documentation

*  add links to docs. [Matthew Horwood]

### Other

* Merge pull request #46 from mhzawadi/0.1.5. [Matthew Horwood]

  MH/Fix export

* MH/Fix export. [Matthew Horwood]

  bug: export should be total_increasing


## v0.1.4 (2024-03-07)

### Other

* Merge pull request #44 from mhzawadi/0.1.4. [Matthew Horwood]

  Issue 41/Missing Error codes

* Issue 41/Missing Error codes. [Matthew Horwood]

  chor: move getting error codes
  bug: fix returning error codes


## v0.1.3 (2024-03-04)

### Other

* Merge pull request #42 from mhzawadi/0.1.3. [Matthew Horwood]

  I41/Problem with DeviceID

* I41/Problem with DeviceID. [Matthew Horwood]

  bug: remove redundant config


## v0.1.2 (2024-02-28)

### Other

* Merge pull request #38 from mhzawadi/0.1.2. [Matthew Horwood]

  MHO/Validate JSON

* MHO/Validate JSON. [Matthew Horwood]

  feat: validate json config
  chor: tidy up logging
  doc: match logging


## v0.1.1 (2024-02-25)

### Fix

*  fix temp vars chor: make a compose file for all. [Matthew Horwood]

*  remove debug. [Matthew Horwood]

*  fix readme. [Matthew Horwood]

*  fix compose file. [Matthew Horwood]

### Other

* Merge pull request #35 from mhzawadi/0.1.1. [Matthew Horwood]

  Horwood/Retain HA config

* Horwood/Retain HA config. [Matthew Horwood]

  bug: set the retain flag on HA configs

* Merge pull request #34 from mhzawadi/dependabot/github_actions/actions/github-script-7. [Matthew Horwood]

  build(deps): bump actions/github-script from 5 to 7

* Build(deps): bump actions/github-script from 5 to 7. [dependabot[bot]]

  Bumps [actions/github-script](https://github.com/actions/github-script) from 5 to 7.
  - [Release notes](https://github.com/actions/github-script/releases)
  - [Commits](https://github.com/actions/github-script/compare/v5...v7)

  ---
  updated-dependencies:
  - dependency-name: actions/github-script
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...


## v0.1.0 (2024-01-24)

### New

*  feedin KWh feat: gridConsumptionPower KWh bug: check we got data from the cloud. [Matthew Horwood]

*  move data to redis feat: add redis to docker compose chor: make testing better chor: fix up for redis move. [Matthew Horwood]

*  new API work to get data. [Matthew Horwood]

### Fix

*  default state class. [Matthew Horwood]

*  add state_class to setup. [Matthew Horwood]

*  use var unit to config HA. [Matthew Horwood]

*  workflow warning. [Matthew Horwood]

*  this context. [Matthew Horwood]

*  add content type. [Matthew Horwood]

### Documentation

*  update readme. [Matthew Horwood]

### Changes

*  log fix. [Matthew Horwood]

*  current code. [Matthew Horwood]

### Other

* Merge pull request #30 from mhzawadi/0.1.0. [Matthew Horwood]

  0.1.0

* Rebuild for new API, from the docs. [Matthew Horwood]

* Comment. [Matthew Horwood]

* Merge branch '0.1.0' of github.com:mhzawadi/foxess-mqtt into 0.1.0. [Matthew Horwood]

* Debug workflow. [Matthew Horwood]

* This should work. [Matthew Horwood]

* Use env var. [Matthew Horwood]

* Build on number branch. [Matthew Horwood]

* Moer testing. [Matthew Horwood]

* V0.1.0. [Matthew Horwood]

  FoxESS cloud openAPI update
  This is a work in progress

* V0.0.9. [Matthew Horwood]

  feat: tag on branch merge


## v0.0.8 (2023-12-09)

### Other

* Merge pull request #28 from mhzawadi/dev-php. [Matthew Horwood]

  Alpine 3.19 & PHP 8.2

* Alpine 3.19 & PHP 8.2. [Matthew Horwood]

  feat: update OS to 3.19
  feat: update PHP to 8.2

* Thats not how this works. [Matthew Horwood]

* Fix tags. [Matthew Horwood]

* Fix build. [Matthew Horwood]

* Update to use build-push action. [Matthew Horwood]

* Add new build archs. [Matthew Horwood]


## v0.0.7 (2023-09-29)

### Other

* Merge pull request #24 from mhzawadi/dev-php. [Matthew Horwood]

  GHD23/Custom Topic + veriables

* GHI22/Reset KWh. [Matthew Horwood]

  feat: new config option
  feat: use current data or total over time

* GHD23/Custom Topic + veriables. [Matthew Horwood]

  chor: store and use the vars

* GHD23/Custom Topic + veriables. [Matthew Horwood]

  feat: custom topics
  feat: get variables for each device

* Merge pull request #20 from mhzawadi/dependabot/github_actions/docker/setup-qemu-action-3. [Matthew Horwood]

  Bump docker/setup-qemu-action from 2 to 3

* Bump docker/setup-qemu-action from 2 to 3. [dependabot[bot]]

  Bumps [docker/setup-qemu-action](https://github.com/docker/setup-qemu-action) from 2 to 3.
  - [Release notes](https://github.com/docker/setup-qemu-action/releases)
  - [Commits](https://github.com/docker/setup-qemu-action/compare/v2...v3)

  ---
  updated-dependencies:
  - dependency-name: docker/setup-qemu-action
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...

* Merge pull request #21 from mhzawadi/dependabot/github_actions/docker/setup-buildx-action-3. [Matthew Horwood]

  Bump docker/setup-buildx-action from 2 to 3

* Bump docker/setup-buildx-action from 2 to 3. [dependabot[bot]]

  Bumps [docker/setup-buildx-action](https://github.com/docker/setup-buildx-action) from 2 to 3.
  - [Release notes](https://github.com/docker/setup-buildx-action/releases)
  - [Commits](https://github.com/docker/setup-buildx-action/compare/v2...v3)

  ---
  updated-dependencies:
  - dependency-name: docker/setup-buildx-action
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...

* Merge pull request #19 from mhzawadi/dependabot/github_actions/actions/checkout-4. [Matthew Horwood]

  Bump actions/checkout from 3 to 4

* Bump actions/checkout from 3 to 4. [dependabot[bot]]

  Bumps [actions/checkout](https://github.com/actions/checkout) from 3 to 4.
  - [Release notes](https://github.com/actions/checkout/releases)
  - [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
  - [Commits](https://github.com/actions/checkout/compare/v3...v4)

  ---
  updated-dependencies:
  - dependency-name: actions/checkout
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...


## v0.0.6 (2023-09-06)

### Other

* Merge pull request #18 from mhzawadi/dev-php. [Matthew Horwood]

  alpine:3.18

* Alpine:3.18. [Matthew Horwood]


## v0.0.5 (2023-08-05)

### Fix

*  Discovered entities with a name that starts with the device name. [Matthew Horwood]

*  add new line. [Matthew Horwood]

*  SoC not Soc. [Matthew Horwood]

### Other

* Merge pull request #16 from mhzawadi/dev-php. [Matthew Horwood]

  Dev php

* Use date_default_timezone_get. [Matthew Horwood]

* Add PHP timezone debug. [Matthew Horwood]

* Fix SoC type. [Matthew Horwood]

* Create FUNDING.yml. [Matthew Horwood]

* Update README.md. [Matthew Horwood]

  Fix run command


## v0.0.4 (2023-07-10)

### Fix

*  fix the name. [Matthew Horwood]

### Other

* Merge pull request #13 from mhzawadi/dev-php. [Matthew Horwood]

  Dev php

* Issue11/data value not equal. [Matthew Horwood]

  oops, just get the generation data

* Issue11/data value not equal. [Matthew Horwood]

  bug: get device

* Issue 11/data value not equal. [Matthew Horwood]

  use generationTotal for the generation_kwh

* Issue 11 data value not equal. [Matthew Horwood]

  return false when error

* Issue 11/data value not equal. [Matthew Horwood]

  use the generationToday from the device

* Issue 11/data value not equal. [Matthew Horwood]

  fix getting the data

* Issue 11/data value not equal. [Matthew Horwood]

  collect earnings and see what we get back

* Issue 12/More then 1 inverter. [Matthew Horwood]

  fix the non Kwh

* Issue 12/More then 1 inverter. [Matthew Horwood]

  fix auto config topic

* Issue 12/More then 1 inverter. [Matthew Horwood]

  poll every 3 minutes

* Ignore the shell dir by docker build. [Matthew Horwood]

* Dependabot. [Matthew Horwood]

  fix config

* Dependabot. [Matthew Horwood]

  add php

* Issue 12/More than 1 inverter. [Matthew Horwood]

  this is now ready for testing

* Issue 12/More than 1 inverter. [Matthew Horwood]

  this is the start of multi inverters

* Issue 12/More than 1 inverter. [Matthew Horwood]

  start of work


## v0.0.3 (2023-06-09)

### Fix

*  fix unit of measurement. [Matthew Horwood]

### Changes

*  use abs. [Matthew Horwood]

### Other

* Merge pull request #10 from mhzawadi/dev-php. [Matthew Horwood]

  GH7/Make logging levels

* I cant php to save my life. [Matthew Horwood]

* GH7/Make logging levels. [Matthew Horwood]

  bug: only track positive floats

* GH8/make Temperature not kW. [Matthew Horwood]

  bug: expected SensorDeviceClass

* GH8/make Temperature not kW. [Matthew Horwood]

  bug: V not Volts

* GH8/make Temperature not kW. [Matthew Horwood]

  bug: use the right var

* GH8/make Temperature not kW. [Matthew Horwood]

  feat: find temp and not make KW
  feat: import all the data from the cloud

* GH7/Make logging levels. [Matthew Horwood]

  feat: set log level in config
  chor: give all logs a level


## v0.0.2 (2023-05-18)

### New

*  test script to build local image bug: md5 the password. [Matthew Horwood]

### Fix

*  try this. [Matthew Horwood]

### Other

* Merge pull request #5 from mhzawadi/dev-php. [Matthew Horwood]

  Fix first run

* Update login.php. [Matthew Horwood]

  add log that login failed

* Update login.php. [Matthew Horwood]

  if we get any error fail

* Fix first run. [Matthew Horwood]

  feat: add logging class
  chor: move all logs to new function
  bug: fix first run setup
  bug: fix save and reload of data


## v0.0.1 (2023-05-15)

### Fix

*  fix login vars. [Matthew Horwood]

*  kw to kwh errors. [Matthew Horwood]

*  use run as main file. [Matthew Horwood]

*  remove cron build. [Matthew Horwood]

### Documentation

*  fix docker run. [Matthew Horwood]

*  make it more usfull bug: make shell script executalbe. [Matthew Horwood]

### Changes

*  add datetime to logging bug: catch no data error. [Matthew Horwood]

*  readme. [Matthew Horwood]

### Other

* Merge pull request #4 from mhzawadi/dependabot/github_actions/actions/checkout-3. [Matthew Horwood]

  Bump actions/checkout from 2 to 3

* Bump actions/checkout from 2 to 3. [dependabot[bot]]

  Bumps [actions/checkout](https://github.com/actions/checkout) from 2 to 3.
  - [Release notes](https://github.com/actions/checkout/releases)
  - [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
  - [Commits](https://github.com/actions/checkout/compare/v2...v3)

  ---
  updated-dependencies:
  - dependency-name: actions/checkout
    dependency-type: direct:production
    update-type: version-update:semver-major
  ...

* Merge pull request #1 from mhzawadi/dev-php. [Matthew Horwood]

  271/PHP rewrite

* Update workflows for PHP. [Matthew Horwood]

* Merge branch 'main' into dev-php. [Matthew Horwood]

* Test for expired token. [Matthew Horwood]

* 271/PHP Rewrite. [Matthew Horwood]

  round down

* 271/PHP rewrite. [Matthew Horwood]

  fix rounding

* 271/PHP rewrite. [Matthew Horwood]

  This is now a fully working system

* 271/PHP rewrite. [Matthew Horwood]

  chor: move shell
  chor: ignore user data

* 271/PHP rewrite. [Matthew Horwood]

  feat: all new php code

* 20230118/import running code. [Matthew Horwood]

  chor: rewrite get data
  chor: rewrite login

  This is very much still a work in progress, please feedback or PR to
  make changes

* 000001/Import code. [Matthew Horwood]

  bug: fix it all up

* 000001/Import code. [Matthew Horwood]

  bug: workflow update

* 000001/Import code. [Matthew Horwood]

  chor: revert to deb

* 000001/Impot code. [Matthew Horwood]

  bug: its not working

* 000001/Import code. [Matthew Horwood]

  bug: try this for mqttools

* 000001/Import code. [Matthew Horwood]

  bug: add bash

* 000001/Import code. [Matthew Horwood]

  chor: fix up for alpine

* 000001/Import code. [Matthew Horwood]

  bug: fix user

* 000001/Import code. [Matthew Horwood]

  feat: convert imgae to alpine

* 000001/Fixes. [Matthew Horwood]

  bug: only on amd64

* 000001/Fix. [Matthew Horwood]

  bug: remove group

* 000001/Workflows. [Matthew Horwood]

  bug: move to the right dir

* 000001/Import code. [Matthew Horwood]

  feat: import working code
  feat: import github actions to build image

* Initial commit. [Matthew Horwood]


